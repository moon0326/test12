{
	"title": "Remote Inbox Notification Schema",
	"type": "array",
	"items": {
		"type": "object",
		"required": ["slug", "status", "locales", "type", "rules"],
		"properties": {
			"slug": {
				"type": "string"
			},
			"type": {
				"type": "string"
			},
			"status": {
				"type": "string",
				"enum": ["actioned", "unactioned", "pending"],
				"default": "pending"
			},
			"is_snoozable": {
				"anyOf": [
					{ "type": "boolean" },
					{ "type": "integer", "enum": [0, 1] }
				],
				"default": 0
			},
			"locales": {
				"type": "array",
				"required": ["locale", "title", "content"],
				"items": {
					"type": "object",
					"properties": {
						"locale": {
							"type": "string"
						},
						"title": {
							"type": "string"
						},
						"content": {
							"type": "string"
						}
					}
				}
			},
			"actions": {
				"type": "array",
				"required": ["name", "locales", "status", "url"],
				"items": {
					"type": "object",
					"properties": {
						"name": {
							"type": "string"
						},
						"locales": {
							"type": "array",
							"required": ["locale", "label"],
							"items": {
								"type": "object",
								"properties": {
									"locale": {
										"type": "string"
									},
									"label": {
										"type": "string"
									}
								}
							}
						},
						"url": {
							"type": ["string", "boolean"]
						},
						"url_is_admin_query": {
							"type": "boolean",
							"default": false
						},
						"is_primary": {
							"type": "boolean",
							"default": false
						},
						"status": {
							"type": "string",
							"enum": ["actioned", "unactioned", "pending"],
							"default": "pending"
						}
					}
				}
			},
			"rules": {
				"type": "array",
				"items": {
					"anyOf": [
						{"$ref": "#/definitions/rules"}
					]
				}
			}
		}
	},
	"definitions": {
		"operations": {"$ref": "./shared/operations.json"},
		"rules": {
			"anyOf": [
				{"$ref": "./shared/rules/or.json"},
				{"$ref": "./shared/rules/not.json"},
				{"$ref": "./shared/rules/fail.json"},
				{"$ref": "./shared/rules/publish_after_time.json"},
				{"$ref": "./shared/rules/publish_before_time.json"},
				{"$ref": "./shared/rules/base_location_country.json"},
				{"$ref": "./shared/rules/base_location_state.json"},
				{"$ref": "./shared/rules/plugins_activated.json"},
				{"$ref": "./shared/rules/plugin_version.json"},
				{"$ref": "./shared/rules/stored_state.json"},
				{"$ref": "./shared/rules/product_count.json"},
				{"$ref": "./shared/rules/order_count.json"},
				{"$ref": "./shared/rules/wcadmin_active_for.json"},
				{"$ref": "./shared/rules/onboarding_profile.json"},
				{"$ref": "./shared/rules/is_woo_express.json"},
				{"$ref": "./shared/rules/note_status.json"},
				{"$ref": "./shared/rules/total_payments_value.json"},
				{"$ref": "./shared/rules/option.json"},
				{"$ref": "./shared/rules/is_ecommerce.json"}
			]
		}
	}
}